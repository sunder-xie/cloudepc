function changeSearchType(e,t){TipUtil.removeTip();var i=$("#car-type-search-input");switch(i.val(""),$(".choose-style").removeClass("choose-style"),$(t).addClass("choose-style"),e){case 0:i.unbind("keyup"),i.attr("placeholder",_keywordSearchPlaceholder),i.removeAttr("maxlength");break;case 1:i.unbind("keyup").on("keyup",function(){$(this).val($(this).val().replace(/[\u4E00-\u9FA5]/g,""))}),i.attr("placeholder",_oeSearchPlaceholder),i.removeAttr("maxlength");break;default:i.unbind("keyup").on("keyup",function(){$(this).val($(this).val().replace(/[\u4E00-\u9FA5]/g,""))}),i.attr("placeholder",_vinSearchPlaceholder),i.attr("maxlength",_vinLength)}i.focus()}function carSearch(){var e=$("#car-type-search-input");TipUtil.destroyTip(e);var t=Number($(".choose-style").attr("data-type")),i=e.val().trim();if(0==t){if(""==i)return TipUtil.tooltipFun(e,_keywordSearchTip,"bottom"),!1;window.location.href="/autoParts/goods/keyword?q="+i}if(1==t){if(""==i)return TipUtil.tooltipFun(e,_oeSearchTip,"bottom"),!1;window.location.href="/autoParts/goods/oe?oem="+i}if(2==t){if(i=i.toUpperCase(),!EPC.isVin(i))return TipUtil.tooltipFun(e,_vinSearchTip,"bottom"),!1;JqAjax.post("/epc/car/getOnlineCarByVin",getVinResult,{vin:i})}}function getVinResult(e){var t=$("#car-type-search-input").val().trim(),i="/autoParts/category/category?carId=CARID&vinNumber="+t;if(e.success){var r=e.data;if(1==r.length)window.location.href=i.replace("CARID",r[0].id)+"&seriesId="+r[0].seriesId;else{var o=template("choose_car_template",{list:r});EPC.alertFuc(o),$(".choose_car").unbind("click").click(function(){var e=$(this).attr("data-id"),t=$(this).attr("data-sid");window.location.href=i.replace("CARID",e)+"&seriesId="+t})}}else EPC.alertFuc("很抱歉，未查询到您提交的车辆信息。");return!1}var storage=window.sessionStorage,key="autoParts_crumbs";$(function(){var e="";switch(Number($(".choose-style").attr("data-type"))){case 1:e=_oeSearchPlaceholder;break;case 2:e=_vinSearchPlaceholder;break;default:e=_keywordSearchPlaceholder}$("#car-type-search-input").bind("keypress",function(e){13==e.keyCode&&$("#car-type-head-searchBtn").trigger("click")}).attr("placeholder",e)});var LOGIN_NEW=function(){function e(e,n,c){var l=$(n),s=l.val().trim();if(!EPC.isMobile(s))return TipUtil.tooltipFun(l,"请填写正确的手机号"),void l.focus();l=$(c);var u=l.val().trim();return""==u?(TipUtil.tooltipFun(l,"请填写校验码"),void l.focus()):($(e).attr("disabled",!0).addClass("disabled-bt"),JqAjax.get("/user/sendVerify",function(t){TipUtil.tooltipFun(e,t.message),t.success?$("#verifyCodeInput").focus():i(e)},{mobile:s,checkCode:u}),o=a,$(e).text(o+"秒再获取"),void(r=setInterval(function(){t(e)},1e3)))}function t(e){0==o?i(e):(o--,$(e).text(o+"秒再获取"))}function i(e){clearInterval(r),$(e).text("重新获取验证码").removeClass("disabled-bt").removeAttr("disabled")}var r,o,a=60,n=function(){$("#userNameInput").focus(),$("#clearPhone").on("click",function(){$("#userNameInput").val(""),$("#verifyCodeInput").val("")}),$("#userNameInput").bind("keypress",function(e){13==e.keyCode&&$("#loginButton").trigger("click")}),$("#verifyCodeInput").bind("keypress",function(e){13==e.keyCode&&$("#loginButton").trigger("click")}),$("#loginButton").click(function(){var e=$("#userNameInput"),t=e.val().trim();if(!EPC.isMobile(t))return TipUtil.tooltipFun($("#loginButton"),"请填写正确的手机号"),void e.focus();e=$("#verifyCodeInput");var i=e.val().trim();return""==i?(TipUtil.tooltipFun($("#loginButton"),"请填写验证码"),void e.focus()):void(window.location.href="/user/login?userName="+t+"&verifyCode="+i)}),$("#getCode").click(function(){e(this,$("#userNameInput"),$("#checkCode"))}),$("#checkCodeImg").click(function(){$(this).attr("src",$(this).data("url")+"?v="+(new Date).getTime())}),$("#cert-btn,.login-cert-wrap").hover(function(){$(".login-cert-wrap").show()},function(){$(".login-cert-wrap").hide()}),$("#cert-btn,.cert-fast").click(function(){window.location.href="/verifyShop/verifyIndex"})};return{init:function(){n()},sendVerify:function(t,i,r){e(t,i,r)}}}();