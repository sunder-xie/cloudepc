function changeSearchType(e,t){TipUtil.removeTip();var a=$("#car-type-search-input");switch(a.val(""),$(".choose-style").removeClass("choose-style"),$(t).addClass("choose-style"),e){case 0:a.unbind("keyup"),a.attr("placeholder",_keywordSearchPlaceholder),a.removeAttr("maxlength");break;case 1:a.unbind("keyup").on("keyup",function(){$(this).val($(this).val().replace(/[\u4E00-\u9FA5]/g,""))}),a.attr("placeholder",_oeSearchPlaceholder),a.removeAttr("maxlength");break;default:a.unbind("keyup").on("keyup",function(){$(this).val($(this).val().replace(/[\u4E00-\u9FA5]/g,""))}),a.attr("placeholder",_vinSearchPlaceholder),a.attr("maxlength",_vinLength)}a.focus()}function carSearch(){var e=$("#car-type-search-input");TipUtil.destroyTip(e);var t=Number($(".choose-style").attr("data-type")),a=e.val().trim();if(0==t){if(""==a)return TipUtil.tooltipFun(e,_keywordSearchTip,"bottom"),!1;window.location.href="/autoParts/goods/keyword?q="+a}if(1==t){if(""==a)return TipUtil.tooltipFun(e,_oeSearchTip,"bottom"),!1;window.location.href="/autoParts/goods/oe?oem="+a}if(2==t){if(a=a.toUpperCase(),!EPC.isVin(a))return TipUtil.tooltipFun(e,_vinSearchTip,"bottom"),!1;JqAjax.post("/epc/car/getOnlineCarByVin",getVinResult,{vin:a})}}function getVinResult(e){var t=$("#car-type-search-input").val().trim(),a="/autoParts/category/category?carId=CARID&vinNumber="+t;if(e.success){var i=e.data;if(1==i.length)window.location.href=a.replace("CARID",i[0].id)+"&seriesId="+i[0].seriesId;else{var c=template("choose_car_template",{list:i});EPC.alertFuc(c),$(".choose_car").unbind("click").click(function(){var e=$(this).attr("data-id"),t=$(this).attr("data-sid");window.location.href=a.replace("CARID",e)+"&seriesId="+t})}}else EPC.alertFuc("很抱歉，未查询到您提交的车辆信息。");return!1}var storage=window.sessionStorage,key="autoParts_crumbs";$(function(){var e="";switch(Number($(".choose-style").attr("data-type"))){case 1:e=_oeSearchPlaceholder;break;case 2:e=_vinSearchPlaceholder;break;default:e=_keywordSearchPlaceholder}$("#car-type-search-input").bind("keypress",function(e){13==e.keyCode&&$("#car-type-head-searchBtn").trigger("click")}).attr("placeholder",e)});var CANCEL_WISH=function(){var e=function(e){void 0!=$(e)&&null!=$(e)&&$(e).modal("hide")},t=$("#alert_cancel_wish"),a=function(e,a){void 0!=t&&(i(e,a),t.modal("show"))},i=function(e,a){var i=t.find("input[type=checkbox]");$("#acwOtherReason").val(""),$(i).prop("checked",!1),$(i[0]).prop("checked",!0),i.on("click",function(){t.find("input[type=checkbox]").prop("checked",!1),$(this).prop("checked",!0)}),t.find("div[id=acwSave]").unbind().on("click",function(){c(e,a)})},c=function(e,a){for(var i,c=t.find("input[type=checkbox]"),o=0;o<c.length;o++)1==$(c[o]).prop("checked")&&(i=$(c[o]).attr("title"));return void 0==i||null==i||""==i?void EPC.alertFucWithTime(1500,"请选择取消原因!"):"其他"==i&&(i=t.find("input[id=acwOtherReason]").val().trim(),""==i)?void EPC.alertFucWithTime(1500,"请填写具体原因!"):void(1==confirm("您确定要取消吗？")&&r(e,a,i))},r=function(e,a,i){var c={wishId:e,offerId:a,reason:i};$.ajax({type:"POST",url:"/wish/cancel",data:JSON.stringify(c),headers:{Accept:"application/json","Content-Type":"application/json"},beforeSend:function(e){var t=(new Date).getTime();e.setRequestHeader("timestamp",t)},success:function(e){e.success?(CANCEL_WISH.closeAlert(t),EPC.alertFuc("取消成功!"),$.isFunction(CANCEL_WISH.callback)&&CANCEL_WISH.callback()):EPC.alertFuc(e.message)},error:function(e){}})};return{closeAlert:function(t){e(t)},alertCancelWish:function(e,t){return null==e||void 0==e?!1:void a(e,t)},callback:void 0}}();$(function(){ImgUtil.init($(".goods-img"),["click"]),$(".cancel-btn").click(function(){var e=$(this).data("wish-id"),t=$(this).data("order-id");CANCEL_WISH.alertCancelWish(e,t),CANCEL_WISH.callback=function(){window.location.reload()}})});